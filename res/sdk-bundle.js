var nodeRequire=require,nodeModule=module;!function e(t,r,n){function o(i,a){if(!r[i]){if(!t[i]){var s="function"==typeof require&&require;if(!a&&s)return s(i,!0);if(u)return u(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[i]={exports:{}};t[i][0].call(f.exports,function(e){var r=t[i][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[i].exports}for(var u="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("./user"),u=n(o),i=e("./container"),a=n(i),s=e("./widget"),c=n(s),f=e("./version"),d=n(f),l=e("./asset"),p=n(l),h=e("./rbac"),v=n(h),g=e("./util/storage"),m=n(g),y=e("./api-config"),q=n(y),_={user:u["default"],container:a["default"],widget:c["default"],version:d["default"],asset:p["default"],rbac:v["default"],storage:m["default"],config:q["default"]};nodeModule.exports=_},{"./api-config":2,"./asset":3,"./container":5,"./rbac":15,"./user":35,"./util/storage":41,"./version":43,"./widget":47}],2:[function(e,t,r){"use strict";t.exports={hostname:"api-te.famo.us","assets-hostname":"assets-te.famo.us",authHeader:"X-FAMOUS-USER-ID"}},{}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./asset/get"),u=n(o);r["default"]={get:u["default"]},t.exports=r["default"]},{"./asset/get":4}],4:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t,r,o){var u={path:"/codemanager/v1/blocks/"+e+"/versions/"+t+"/assets/"+r,method:"GET"};return n(u,{},o)};t.exports=o},{"../request":34}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./container/create"),u=n(o),i=e("./container/get"),a=n(i),s=e("./container/update"),c=n(s),f=e("./container/destroy"),d=n(f),l=e("./container/copy"),p=n(l),h=e("./container/index"),v=n(h),g=e("./container/share"),m=n(g),y=e("./container/peek"),q=n(y);r["default"]={create:u["default"],get:a["default"],update:c["default"],destroy:d["default"],copy:p["default"],index:v["default"],share:m["default"],peek:q["default"]},t.exports=r["default"]},{"./container/copy":6,"./container/create":7,"./container/destroy":8,"./container/get":9,"./container/index":10,"./container/peek":11,"./container/share":12,"./container/update":13}],6:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/containers/"+e+"/copy",method:"POST"};return n(r,{},t)};t.exports=o},{"../request":34}],7:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/containers",method:"POST"};return n(r,{container:e},t)};t.exports=o},{"../request":34}],8:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/containers/"+e,method:"DELETE"};return n(r,{},t)};t.exports=o},{"../request":34}],9:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/containers/"+e,method:"GET"};return n(r,{},t)};t.exports=o},{"../request":34}],10:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e){var t={path:"/codemanager/v1/containers",method:"GET"};return n(t,{},e)};t.exports=o},{"../request":34}],11:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/containers",method:"POST"};return n(r,e,t)};t.exports=o},{"../request":34}],12:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/containers/"+e+"/share",method:"GET"};return n(r,{},t)};t.exports=o},{"../request":34}],13:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t,r){var o={path:"/codemanager/v1/containers/"+e,method:"PUT"};return n(o,{container:t},r)};t.exports=o},{"../request":34}],14:[function(e,t,r){"use strict";function n(){this._overheadLength=0,this._valueLength=0,this._lengthRetrievers=[],u.call(this)}function o(e,t){for(var r in t)e[r]||(e[r]=t[r]);return e}var u=nodeRequire("combined-stream"),i=nodeRequire("util"),a=nodeRequire("path"),s=nodeRequire("http"),c=nodeRequire("https"),f=nodeRequire("url").parse,d=nodeRequire("fs"),l=nodeRequire("mime-types"),p=nodeRequire("async");t.exports=n,i.inherits(n,u),n.LINE_BREAK="\r\n",n.prototype.append=function(e,t,r){r=r||{};var n=u.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),i.isArray(t))return void this._error(new Error("Arrays are not supported."));var o=this._multiPartHeader(e,t,r),a=this._multiPartFooter(e,t,r);n(o),n(t),n(a),this._trackLength(o,t,r)},n.prototype._trackLength=function(e,t,r){var o=0;null!=r.knownLength?o+=+r.knownLength:Buffer.isBuffer(t)?o=t.length:"string"==typeof t&&(o=Buffer.byteLength(t)),this._valueLength+=o,this._overheadLength+=Buffer.byteLength(e)+n.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion"))&&(r.knownLength||this._lengthRetrievers.push(function(e){t.hasOwnProperty("fd")?void 0!=t.end&&t.end!=1/0&&void 0!=t.start?e(null,t.end+1-(t.start?t.start:0)):d.stat(t.path,function(r,n){var o;return r?void e(r):(o=n.size-(t.start?t.start:0),void e(null,o))}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")}))},n.prototype._multiPartHeader=function(e,t,r){var o=this.getBoundary(),u="";return null!=r.header?u=r.header:(u+="--"+o+n.LINE_BREAK+'Content-Disposition: form-data; name="'+e+'"',r.filename||t.path?u+='; filename="'+r.filename+'"'+n.LINE_BREAK+"Content-Type: "+(r.contentType||l.lookup(r.filename||t.path)):t.readable&&t.hasOwnProperty("httpVersion")&&(u+='; filename="'+a.basename(t.client._httpMessage.path)+'"'+n.LINE_BREAK+"Content-Type: "+t.headers["content-type"]),u+=n.LINE_BREAK+n.LINE_BREAK),u},n.prototype._multiPartFooter=function(e,t,r){return function(e){var t=n.LINE_BREAK,r=0===this._streams.length;r&&(t+=this._lastBoundary()),e(t)}.bind(this)},n.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"},n.prototype.getHeaders=function(e){var t={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(var r in e)t[r.toLowerCase()]=e[r];return t},n.prototype.getCustomHeaders=function(e){e=e?e:"multipart/form-data";var t={"content-type":e+"; boundary="+this.getBoundary(),"content-length":this.getLengthSync()};return t},n.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},n.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;24>t;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},n.prototype.getLengthSync=function(e){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this._lengthRetrievers.length&&this._error(new Error("Cannot calculate proper length in synchronous way.")),t},n.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this._lengthRetrievers.length?void p.parallel(this._lengthRetrievers,function(r,n){return r?void e(r):(n.forEach(function(e){t+=e}),void e(null,t))}):void process.nextTick(e.bind(this,null,t))},n.prototype.submit=function(e,t){var r,n,u={method:"post"};return"string"==typeof e?(e=f(e),n=o({port:e.port,path:e.pathname,host:e.hostname},u)):(n=o(e,u),n.port||(n.port="https:"==n.protocol?443:80)),n.headers=this.getHeaders(e.headers),r="https:"==e.protocol?c.request(n):s.request(n),this.getLength(function(e,n){r.setHeader("Content-Length",n),this.pipe(r),t&&(r.on("error",t),r.on("response",t.bind(this,null)))}.bind(this)),r},n.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))}},{}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./rbac/widget"),u=n(o),i=e("./rbac/container"),a=n(i);r["default"]={widget:u["default"],container:a["default"]},t.exports=r["default"]},{"./rbac/container":16,"./rbac/widget":28}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./container/create"),u=n(o),i=e("./container/destroy"),a=n(i),s=e("./container/get"),c=n(s),f=e("./container/index"),d=n(f),l=e("./container/update"),p=n(l);r["default"]={create:u["default"],destroy:a["default"],get:c["default"],index:d["default"],update:p["default"]},t.exports=r["default"]},{"./container/create":17,"./container/destroy":18,"./container/get":19,"./container/index":20,"./container/update":21}],17:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.create("widget",e,t)};t.exports=o},{"../permission":22}],18:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.destroy("widget",e,t)};t.exports=o},{"../permission":22}],19:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.get("widget",e,t)};t.exports=o},{"../permission":22}],20:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.index("widget",e,t)};t.exports=o},{"../permission":22}],21:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.update("widget",e,t)};t.exports=o},{"../permission":22}],22:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./permission/create"),u=n(o),i=e("./permission/destroy"),a=n(i),s=e("./permission/get"),c=n(s),f=e("./permission/index"),d=n(f),l=e("./permission/update"),p=n(l);r["default"]={create:u["default"],destroy:a["default"],get:c["default"],index:d["default"],update:p["default"]},t.exports=r["default"]},{"./permission/create":23,"./permission/destroy":24,"./permission/get":25,"./permission/index":26,"./permission/update":27}],23:[function(e,t,r){"use strict";var n=e("../../request").request,o=e("../../util/pluralize"),u=function(e,t,r){var u={path:"/rbac/v1/"+o.pluralize(e),method:"POST"};return n(u,{resource_name:t},r)};t.exports=u},{"../../request":34,"../../util/pluralize":40}],24:[function(e,t,r){"use strict";var n=e("../../request").request,o=e("../../util/pluralize"),u=function(e,t,r){var u={path:"/rbac/v1/"+o.pluralize(e)+"/"+t,method:"DELETE"};return n(u,{},r)};t.exports=u},{"../../request":34,"../../util/pluralize":40}],25:[function(e,t,r){"use strict";var n=e("../../request").request,o=e("../../util/pluralize"),u=function(e,t,r){var u={path:"/rbac/v1/"+o.pluralize(e)+"/"+t,method:"GET"};return n(u,{},r)};t.exports=u},{"../../request":34,"../../util/pluralize":40}],26:[function(e,t,r){"use strict";var n=e("../../request").request,o=e("../../util/pluralize"),u=function(e,t,r){var u={path:"/rbac/v1/"+o.pluralize(e),method:"GET"};return n(u,{},r)};t.exports=u},{"../../request":34,"../../util/pluralize":40}],27:[function(e,t,r){"use strict";var n=e("../../request").request,o=e("../../util/pluralize"),u=function(e,t,r){var u={path:"/rbac/v1/"+o.pluralize(e),method:"PUT"};return n(u,{resource_name:t},r)};t.exports=u},{"../../request":34,"../../util/pluralize":40}],28:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./widget/create"),u=n(o),i=e("./widget/destroy"),a=n(i),s=e("./widget/get"),c=n(s),f=e("./widget/index"),d=n(f),l=e("./widget/update"),p=n(l);r["default"]={create:u["default"],destroy:a["default"],get:c["default"],index:d["default"],update:p["default"]},t.exports=r["default"]},{"./widget/create":29,"./widget/destroy":30,"./widget/get":31,"./widget/index":32,"./widget/update":33}],29:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.create("container",e,t)};t.exports=o},{"../permission":22}],30:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.destroy("container",e,t)};t.exports=o},{"../permission":22}],31:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.get("container",e,t)};t.exports=o},{"../permission":22}],32:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.index("container",e,t)};t.exports=o},{"../permission":22}],33:[function(e,t,r){"use strict";var n=e("../permission"),o=function(e,t){return n.update("container",e,t)};t.exports=o},{"../permission":22}],34:[function(e,t,r){"use strict";var n=nodeRequire("https"),o=e("./form-data/lib/form_data.js"),u=nodeRequire("fs"),i=e("./util/util").extend,a=e("./util/storage"),s=e("./api-config"),c=nodeRequire("async"),f={host:s.hostname,path:"/",method:"POST",headers:{"Content-Type":"application/json"},protocol:"https:",port:"443",withCredentials:!1},d=function(e,t){var r="";e.on("data",function(e){r+=e}),e.on("end",function(){if(e.headers["content-type"]&&e.headers["content-type"].indexOf("application/json")>-1)try{r=JSON.parse(r)}catch(n){return t(new Error("parsing"),r)}return parseInt(e.statusCode)>=400?t(new Error(e.statusCode),r):t(null,r)})},l=function(e,t){a.getGlobal(function(r,n){return n&&n.authentication_token&&(e.headers["X-Authentication-Token"]=n.authentication_token),t(null,e)})},p=function(e,t,r){var o,u=JSON.stringify(t);e=i(f,e),e.headers["Content-Length"]=Buffer.byteLength(u),c.waterfall([function(t){l(e,t)},function(e,t){o=n.request(e,function(e){d(e,t)}),o.on("error",function(e){return t(e,null)}),o.write(u,"utf-8"),o.end()}],function(e,t){return r(e,t)})},h=function(e,t,r){var a,s;s=new o,e=i(f,e),t.forEach(function(e,t,r){s.append("files[]",u.createReadStream(e.value),{filename:e.relative})}),e.headers=s.getHeaders(),c.waterfall([function(t){l(e,t)},function(e,t){a=n.request(e,function(e){d(e,t)}),s.pipe(a),a.on("error",function(e){return t(e,null)})}],function(e,t){return r(e,t)})};t.exports.request=p,t.exports.multipart=h},{"./api-config":2,"./form-data/lib/form_data.js":14,"./util/storage":41,"./util/util":42}],35:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./user/create"),u=n(o),i=e("./user/login"),a=n(i),s=e("./user/logout"),c=n(s),f=e("./user/oauth"),d=n(f);r["default"]={create:u["default"],login:a["default"],logout:c["default"],oauth:d["default"]},t.exports=r["default"]},{"./user/create":36,"./user/login":37,"./user/logout":38,"./user/oauth":39}],36:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r=e.tracking,o={path:"/auth/v1",method:"POST"};return n(o,{user:e,metrics:r},t)};t.exports=o},{"../request":34}],37:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/auth/v1/login",method:"POST"};return n(r,{user:e},t)};t.exports=o},{"../request":34}],38:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e){var t={path:"/auth/v1/logout",method:"DELETE"};return n(t,{},e)};t.exports=o},{"../request":34}],39:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t,r){var o={path:"/auth/v1/oauth/"+e,method:"POST",headers:{"X-AUTHENTICATION-TOKEN":t}};return n(o,{},r)};t.exports=o},{"../request":34}],40:[function(e,t,r){"use strict";function n(e){return e+"s"}t.exports.pluralize=n},{}],41:[function(e,t,r){"use strict";var n=nodeRequire("fs"),o=nodeRequire("path"),u=nodeRequire("async"),i={setGlobal:function(e,t){var r=o.join(i.home(),".famous",".config");u.waterfall([i.init,i.getGlobal,function(t,r){for(var n in e)t[n]=e[n];return r(null,t)},function(e,t){n.writeFile(r,JSON.stringify(e),function(e){return t(e?e:null)})}],function(e,r){return t(e,r)})},getGlobal:function(e){var t=o.join(i.home(),".famous",".config");u.waterfall([i.init,function(e){n.readFile(t,function(t,r){return t?null:e(null,r.toString())})},i.parseLocalStore],function(t,r){return r||(r={}),e(null,r)})},parseLocalStore:function(e,t){var r;try{r=JSON.parse(e)}catch(n){return t(n,null)}return t(null,r)},setProjectMeta:function(e,t){var r=o.join(process.cwd(),".famous");u.waterfall([function(e){i.initProjectMeta(r,{},e)},i.getProjectMeta,function(t,r){for(var n in e)t[n]=e[n];return r(null,t)},function(e,t){var o=new Buffer(JSON.stringify(e));n.writeFile(r,o,{encoding:"utf8"},t)}],function(e,r){t(e,r)})},getProjectMeta:function(e){var t=o.join(process.cwd(),".famous");u.waterfall([function(e){i.initProjectMeta(t,{},e)},function(e){n.readFile(t,"utf-8",e)}],function(t,r){try{e(t,JSON.parse(r))}catch(n){return e(n,{})}})},initProjectMeta:function(e,t,r){var o=new Buffer(JSON.stringify(t));u.waterfall([function(t){n.open(e,"wx",t)},function(e,t){n.write(e,o,0,o.length,null,function(r,n,o){t(r,e)})},function(e,t){n.close(e,t)}],function(e,t){return r(e&&"EEXIST"===e.code?null:e)})},init:function(e){var t=o.join(i.home(),".famous"),r=o.join(t,".config");u.waterfall([function(e){n.mkdir(t,function(t){return e(null)})},function(e){n.open(r,"a+",function(t,r){return e(t,r)})},function(e,t){var r=new Buffer(3);n.read(e,r,0,r.length,null,function(r,n,o){return t(r,e,n,o)})}],function(t,r,o,u){return n.closeSync(r),e(t)})},home:function(){return process.env.HOME||process.env.USERPROFILE}};t.exports=i},{}],42:[function(e,t,r){"use strict";function n(e,t){for(var r in t)e[r]=t[r];return e}t.exports.extend=n},{}],43:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./version/create"),u=n(o),i=e("./version/update"),a=n(i),s=e("./version/get"),c=n(s);r["default"]={create:u["default"],update:a["default"],get:c["default"]},t.exports=r["default"]},{"./version/create":44,"./version/get":45,"./version/update":46}],44:[function(e,t,r){"use strict";var n=e("../request").multipart,o=function(e,t,r){var o={path:"/codemanager/v1/blocks/"+e+"/versions/",method:"POST"};return n(o,t,r)};t.exports=o},{"../request":34}],45:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t,r){var o={path:"/codemanager/v1/blocks/"+e+"/versions/"+t,method:"GET"};return n(o,{},r)};t.exports=o},{"../request":34}],46:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t,r,o){var u={path:"/codemanager/v1/blocks/"+e+"/versions/"+t,method:"POST"};return n(u,r,o)};t.exports=o},{"../request":34}],47:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./widget/create"),u=n(o),i=e("./widget/get"),a=n(i),s=e("./widget/copy"),c=n(s),f=e("./widget/index"),d=n(f),l=e("./widget/push"),p=n(l);r["default"]={create:u["default"],push:p["default"],get:a["default"],copy:c["default"],index:d["default"]},t.exports=r["default"]},{"./widget/copy":48,"./widget/create":49,"./widget/get":50,"./widget/index":51,"./widget/push":52}],48:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/blocks/"+e+"/copy",method:"POST"};return n(r,{},t)};t.exports=o},{"../request":34}],49:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/blocks",method:"POST"};return n(r,{block:e},function(e,r){return t(e,r)})};t.exports=o},{"../request":34}],50:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e,t){var r={path:"/codemanager/v1/blocks/"+e,method:"GET"};return n(r,{},t)};t.exports=o},{"../request":34}],51:[function(e,t,r){"use strict";var n=e("../request").request,o=function(e){var t={path:"/codemanager/v1/blocks",method:"GET"};return n(t,{},e)};t.exports=o},{"../request":34}],52:[function(e,t,r){"use strict";var n=e("../request").multipart,o=function(e,t,r){var o={path:"/codemanager/v1/blocks/"+e+"/versions",method:"POST",files:[]};return t.forEach(function(e,t,r){var n={value:e.value,options:{filename:e.filename,contentType:e.contentType}};o.files.push(n)}),n(o,t,r)};t.exports=o},{"../request":34}]},{},[1]);
